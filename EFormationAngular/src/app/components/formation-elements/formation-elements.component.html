<div class="containing">
    <div *ngIf="outdated" class="notif">Inscription Pour Cette Formation Est Clos</div>
    <div *ngIf="noPlace && !outdated" class="notif">Maximum De Places Atteint Pour Cette Formation</div>
    <h2 style="text-align: center;">Details de la Formation</h2>
    <hr>
    <div *ngIf="formation" style="display: flex; justify-content: space-between;">
        <div class="left">
            <div>
                <h4>Nom de Formation:</h4>
                <p class="info">{{formation.formation_name}}</p>
            </div>
            <div>
                <h4>Objectives:</h4>
                <p class="info">{{formation.objectives}}</p>
            </div>
            <div>
                <h4>Pre_requis:</h4>
                <p class="info">{{formation.pre_requisites}}</p>
            </div>
            <div>
                <h4>Etablissment:</h4>
                <p class="info">{{formation.establishment}}</p>
            </div>
        </div>
        <div class="right">
            <div>
                <h4>Date:</h4>
                <p class="info">{{formation.date | date: 'dd/MM/yyyy'}}</p>
            </div>
            <div>
                <h4>Nb de Places:</h4>
                <p class="info">{{formation.nb_places}}</p>
            </div>
            <div>
                <h4>Nb d'inscriptions:</h4>
                <p class="info">{{formation.nb_enrolled}}</p>
            </div>
            <div>
                <h4>Prix Total:</h4>
                <p class="info">{{formation.totalPrice}}</p>
            </div>
        </div>
    </div>
    
    
    <h2 style="text-align: center;">Elements de la Formation</h2>
    <hr>
    <div class="formation_elements" style="position: relative;" (click)="selectElement(element.id)" *ngFor="let element of elements; let i = index">
            <div>
                <h4>Nom:</h4>
                <p>{{element.element_name}}</p>
            </div>
            <div>
                <h4>Duration:</h4>
                <p>{{element.duration}}</p>
            </div>
            <div>
                <h4>Date:</h4>
                <p>{{element.date | date: 'dd/MM/yyyy'}}</p>
            </div>
            <div>
                <h4>Prix:</h4>
                <p>{{element.cost}}</p>
            </div>
            <div>
                <h4>Nb de Beneficiaires:</h4>
                <p style="text-align: center;">{{element.nb_beneficiaries}}</p>
            </div>
            <i *ngIf="selectedElements.includes(element.id)" 
            style="position: absolute; top:100%; left:100%; transform: translate(-120%,-110%); font-size: 40px; color:rgb(49, 165, 64);" 
            class="fa fa-check-circle"></i>
        </div>
        <div style="display: flex; justify-content: center;">
            <button class="add" *ngIf="!already && !outdated && !noPlace" style="background-color: rgb(49, 165, 64);box-shadow: 0 1px 10px rgba(0, 0, 0, 0.164);" (click)="subscribe()">S'inscrire</button>
            <button class="add" *ngIf="already && !outdated" style="background-color: rgb(49, 165, 64);box-shadow: 0 1px 10px rgba(0, 0, 0, 0.164);" (click)="reactivate()">Re-activer</button>
        </div>
        
</div>
<div *ngIf="popup"class="popup_container" style="z-index: 99;display:flex; justify-content: center; align-items: center; width: 100vw; height: 100vh; position:fixed;top:0;left: 0; background: rgba(0, 0, 0, 0.76);">
    <div class="popup" style="position: relative;">
        <i (click)="popup = !popup" style="color: rgb(95, 95, 95);cursor: pointer;position: absolute; font-size: 30px; left: 93%; top: 10px;" class="fa fa-times-circle"></i>
        <div class="popup_input">
            <label for="email">E-mail: </label>
            <input type="email" [(ngModel)]="email" name="email" id="email">
        </div>
        <div class="popup_input">
            <label for="phone">Num Telephone: </label>
            <input type="text" [(ngModel)]="phone" name="phone" id="phone">
        </div>
        <div class="popup_input">
            <label for="address">Address: </label>
            <input type="text" [(ngModel)]="address" name="address" id="address">
        </div>
        <div style="width: 100%;margin-top: 30px; display: flex;justify-content: center; align-items: center;">
            <button style="width: 180px; height: 50px; background-color: rgb(49, 165, 64);color: white; font-size: 20px; border: none;" (click)="inscrire()">Confirmer</button>
            
        </div>
    </div>
</div>